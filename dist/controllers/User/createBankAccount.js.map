{"version":3,"sources":["../../../controllers/User/createBankAccount.js"],"names":["logic","createBankAccount","req","res","body","ownerId","services","errorResponse","checkNumber","bankAccountType","checkName","findUser","findById","data","users","newBankAccount","bankAccount","bankAccountRes","createBankAccountResponse","successResponse"],"mappings":";;;;;;;AACA;;AACA;;AACA;;;;AAHA;AAKAA,eAAMC,iBAAN,GAA0B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACtC,MAAI,CAACD,GAAG,CAACE,IAAJ,CAASC,OAAd,EAAuB,OAAOC,kBAASC,aAAT,CAAuBJ,GAAvB,EAA4B,GAA5B,EAAiC,qBAAjC,CAAP;AACvB,MAAI,CAACG,kBAASE,WAAT,CAAqBN,GAAG,CAACE,IAAJ,CAASC,OAA9B,CAAL,EAA6C,OAAOC,kBAASC,aAAT,CAAuBJ,GAAvB,EAA4B,GAA5B,EAAiC,yBAAjC,CAAP;AAC7C,MAAI,CAACD,GAAG,CAACE,IAAJ,CAASK,eAAd,EAA+B,OAAOH,kBAASC,aAAT,CAAuBJ,GAAvB,EAA4B,GAA5B,EAAiC,+BAAjC,CAAP;AAC/B,MAAI,CAACG,kBAASI,SAAT,CAAmBR,GAAG,CAACE,IAAJ,CAASK,eAA5B,CAAL,EAAmD,OAAOH,kBAASC,aAAT,CAAuBJ,GAAvB,EAA4B,GAA5B,EAAiC,mCAAjC,CAAP;AACnD,MAAID,GAAG,CAACE,IAAJ,CAASK,eAAT,KAA6B,SAA7B,IAA0CP,GAAG,CAACE,IAAJ,CAASK,eAAT,KAA6B,SAAvE,IACCP,GAAG,CAACE,IAAJ,CAASK,eAAT,KAA6B,SAD9B,IAC2CP,GAAG,CAACE,IAAJ,CAASK,eAAT,KAA6B,SAD5E,EACuF,OAAOH,kBAASC,aAAT,CAAuBJ,GAAvB,EAA4B,GAA5B,EAAiC,8CAAjC,CAAP;;AACvF,MAAMQ,QAAQ,GAAGL,kBAASM,QAAT,CAAkBC,YAAKC,KAAvB,EAA8BZ,GAAG,CAACE,IAAlC,EAAwC,IAAxC,EAA8C,SAA9C,CAAjB;;AACA,MAAI,CAACO,QAAL,EAAe,OAAOL,kBAASC,aAAT,CAAuBJ,GAAvB,EAA4B,GAA5B,EAAiC,gEAAjC,CAAP;;AACf,MAAMY,cAAc,GAAGF,YAAKG,WAAL,CAAiBd,GAAG,CAACE,IAArB,CAAvB;;AACA,MAAMa,cAAc,GAAGJ,YAAKK,yBAAL,CAA+BH,cAA/B,EAA+CJ,QAA/C,CAAvB;;AACA,SAAOL,kBAASa,eAAT,CAAyBhB,GAAzB,EAA8B,GAA9B,EAAmCc,cAAnC,CAAP;AACD,CAZD;;eAcejB,eAAMC,iB","sourcesContent":["// @ts-ignore\nimport logic from '../index';\nimport data from '../../db';\nimport services from '../../services';\n\nlogic.createBankAccount = (req, res) => {\n  if (!req.body.ownerId) return services.errorResponse(res, 400, 'User Id is required');\n  if (!services.checkNumber(req.body.ownerId)) return services.errorResponse(res, 400, 'User id must be numbers');\n  if (!req.body.bankAccountType) return services.errorResponse(res, 400, 'Bank account type is required');\n  if (!services.checkName(req.body.bankAccountType)) return services.errorResponse(res, 400, 'Bank account type must be letters');\n  if (req.body.bankAccountType !== 'current' && req.body.bankAccountType !== 'savings'\n    && req.body.bankAccountType !== 'Current' && req.body.bankAccountType !== 'Savings') return services.errorResponse(res, 400, 'Bank account type must be savings or current');\n  const findUser = services.findById(data.users, req.body, 'id', 'ownerId');\n  if (!findUser) return services.errorResponse(res, 400, 'Only registered users can create bank accounts, please sign up');\n  const newBankAccount = data.bankAccount(req.body);\n  const bankAccountRes = data.createBankAccountResponse(newBankAccount, findUser);\n  return services.successResponse(res, 201, bankAccountRes);\n};\n\nexport default logic.createBankAccount;\n"],"file":"createBankAccount.js"}